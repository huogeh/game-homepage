<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>HOGE GAMES</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>HOGE GAMES</h1>
    <nav>
      <a href="#">ä¸»é¡µ</a>
      <a href="#start" onclick="startGame()">å¼€å§‹æ¸¸æˆ</a>
    </nav>
  </header>

  <!-- âœ… æ ‡å‡†ç»“æ„ï¼šå·¦ä¾§ä¾§è¾¹æ  + ä¸»ä½“å†…å®¹åŒº -->
  <div class="main-container">
    <aside class="sidebar">
      <button onclick="showSection('home')">ğŸ  é¦–é¡µ</button>
      <button onclick="showSection('thanks')">ğŸ– ç‰¹åˆ«é¸£è°¢</button>
      <button onclick="showSection('characters')">ğŸ§© è§’è‰²å›¾é‰´</button>
    </aside>

    <main class="content">
      <!-- é¦–é¡µé»˜è®¤å†…å®¹ -->
      <section id="homeSection">
        <section class="banner">
          <h2>æ¬¢è¿æ¥åˆ°HOGE GAMES</h2>
          <p>ä½“éªŒæˆ˜æ–—ã€å‰§æƒ…ä¸æˆé•¿çš„å®Œç¾èåˆï¼</p>
          <button onclick="startGame()">â–¶ ç«‹å³å¼€å§‹</button>
        </section>

        <section id="about" class="card-section">
          <h2>æ¸¸æˆç®€ä»‹</h2>
          <p>è¿™æ˜¯ä¸€æ¬¾ HTML5 åŠ¨ä½œå°æ¸¸æˆâ€¦â€¦</p>
        </section>

        <section id="characters" class="characters">
          <h2>è§’è‰²å±•ç¤º</h2>
          <div class="card-grid">
            <div class="card">
              <img src="images/è™æ–.png" alt="è™æ–æ‚ ä»">
              <p>è™æ–æ‚ ä»</p>
            </div>
            <div class="card">
              <img src="images/äº”æ¡.png" alt="äº”æ¡æ‚Ÿ">
              <p>äº”æ¡æ‚Ÿ</p>
            </div>
            <div class="card">
              <img src="images/å®¿å‚©.png" alt="å®¿å‚©">
              <p>å®¿å‚©</p>
            </div>
          </div>
        </section>
      </section>

      <!-- ğŸ– ç‰¹åˆ«é¸£è°¢åŒºåŸŸ -->
      <section id="thanksSection" class="card-section" style="display:none">
        <h2>ç‰¹åˆ«é¸£è°¢</h2>
        <p>é¡¹ç›®ç­–åˆ’ï¼šéœæ ¼</p>
        <p>ç•Œé¢è®¾è®¡ï¼šéœæ ¼</p>
        <p>ä»£ç æ”¯æŒï¼šChatGPT</p>
        <p>å›¾å½¢ç”Ÿæˆï¼šDALLÂ·E</p>
        <p>éƒ¨ç½²æ”¯æŒï¼šGitHub Pages</p>
      </section>

      <!-- ğŸ§© è§’è‰²å›¾é‰´åŒºåŸŸ -->
      <section id="charactersSection" class="card-section" style="display:none">
        <h2>è§’è‰²å›¾é‰´</h2>
        <div class="card-grid">
          <!-- å¡ç‰‡å±•ç¤ºä¿æŒä¸å˜ -->
        </div>
      </section>

      <!-- ğŸ® æ¸¸æˆåŒºåŸŸ -->
      <section id="gameContainer" style="display:none; flex-direction: column; align-items: center;">
        <h2>HOGE GAMES - è¿·ä½ æ¸¸æˆ</h2>
        <div id="scoreBoard">ç§¯åˆ†ï¼š0</div>
        <canvas id="gameCanvas" width="400" height="400" style="background: #333; border: 2px solid #888;"></canvas>
        <div style="margin-top: 20px; display: flex; gap: 10px;">
          <button onclick="togglePause()" style="padding: 10px 20px; font-size: 16px; background-color: #444; color: white; border: none; border-radius: 6px; cursor: pointer;">
            â¸ æš‚åœ / â–¶ ç»§ç»­
          </button>
          <button onclick="returnHome()" style="padding: 10px 20px; font-size: 16px; background-color: #444; color: white; border: none; border-radius: 6px; cursor: pointer;">
            ğŸ”™ è¿”å›ä¸»é¡µ
          </button>
        </div>
      </section>
    </main>
  </div>

  <footer>
    <p>Â© 2025 HOGE GAMESå¼€å‘ç»„ | è”ç³»æˆ‘ä»¬: game@domain.com</p>
  </footer>

  <script>
    const eatSound = new Audio('https://cdn.pixabay.com/audio/2021/08/04/audio_7745a9df84.mp3'); // å…ç‰ˆæƒéŸ³æ•ˆ
    let particles = [];

    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas?.getContext("2d");
    const size = 20;
    let player = { x: 0, y: 0 };
    let direction = { x: 1, y: 0 };
    let fruit = { x: 0, y: 0 };
    let score = 0;
    let interval;
    let moveSpeed = 200;
    let fruitValue = 1;
    let isPaused = false;

    function drawGrid() {
      if (!ctx) return;
      ctx.fillStyle = "#333";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.strokeStyle = "#444";
      for (let x = 0; x < canvas.width; x += size) {
        ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, canvas.height); ctx.stroke();
      }
      for (let y = 0; y < canvas.height; y += size) {
        ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(canvas.width, y); ctx.stroke();
      }
    }

    function drawPlayer() {
      if (!ctx) return;
      ctx.fillStyle = "cyan";
      ctx.fillRect(player.x, player.y, size, size);
    }

    function drawFruit() {
      if (!ctx) return;
      ctx.fillStyle = "lime";
      ctx.fillRect(fruit.x, fruit.y, size, size);
    }

    function randomFruit() {
      fruit.x = Math.floor(Math.random() * (canvas.width / size)) * size;
      fruit.y = Math.floor(Math.random() * (canvas.height / size)) * size;
    }

    function update() {
      if (!ctx) return;
      if (isPaused) return;
      drawGrid();
      drawFruit();
      drawPlayer();
      drawParticles();
      updateParticles();
      if (player.x === fruit.x && player.y === fruit.y) {
        eatSound.currentTime = 0;
        eatSound.play();
        createExplosion(player.x + size / 2, player.y + size / 2);
        // ğŸŒŸ ç²’å­çˆ†ç‚¸åé¦ˆ
        for (let i = 0; i < 10; i++) {
          const px = player.x + Math.random() * size - size / 2;
          const py = player.y + Math.random() * size - size / 2;
          const radius = 2 + Math.random() * 3;
          ctx.beginPath();
          ctx.arc(px, py, radius, 0, 2 * Math.PI);
          ctx.fillStyle = 'rgba(255, 255, 0, 0.8)';
          ctx.fill();
        }
        // åƒåˆ°æœå­çš„åé¦ˆåŠ¨ç”»
        ctx.fillStyle = "yellow";
        ctx.fillRect(player.x, player.y, size, size);
        setTimeout(() => drawPlayer(), 100);

        score += fruitValue;
        fruitValue += 1;
        document.getElementById("scoreBoard").textContent = "ç§¯åˆ†ï¼š" + score;
        randomFruit();
      }

      drawGrid();
      drawFruit();
      drawPlayer();
    }

    function togglePause() {
      isPaused = !isPaused;
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "w") direction = { x: 0, y: -1 };
      else if (e.key === "s") direction = { x: 0, y: 1 };
      else if (e.key === "a") direction = { x: -1, y: 0 };
      else if (e.key === "d") direction = { x: 1, y: 0 };
    });

    function startGame() {
      document.getElementById("homeSection").style.display = "none";
      document.getElementById("thanksSection").style.display = "none";
      document.getElementById("charactersSection").style.display = "none";
      document.getElementById("gameContainer").style.display = "flex";

      player = { x: 0, y: 0 };
      direction = { x: 1, y: 0 };
      score = 0;
      fruitValue = 1;
      isPaused = false;
      document.getElementById("scoreBoard").textContent = "ç§¯åˆ†ï¼š0";
      randomFruit();
      clearInterval(interval);
      interval = setInterval(update, moveSpeed);
    }

    function returnHome() {
      clearInterval(interval);
      document.getElementById("gameContainer").style.display = "none";
      document.getElementById("homeSection").style.display = "block";
    }

    function showSection(section) {
      document.getElementById("homeSection").style.display = section === "home" ? "block" : "none";
      document.getElementById("thanksSection").style.display = section === "thanks" ? "block" : "none";
      document.getElementById("charactersSection").style.display = section === "characters" ? "block" : "none";
      document.getElementById("gameContainer").style.display = "none";
    }

    function createExplosion(x, y) {
      for (let i = 0; i < 12; i++) {
        particles.push({
          x: x,
          y: y,
          vx: (Math.random() - 0.5) * 4,
          vy: (Math.random() - 0.5) * 4,
          alpha: 1.0,
          radius: 2 + Math.random() * 2
        });
      }
    }

    function updateParticles() {
      particles.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        p.alpha -= 0.03;
      });
      particles = particles.filter(p => p.alpha > 0);
    }

    function drawParticles() {
      particles.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI);
        ctx.fillStyle = `rgba(255, 255, 0, ${p.alpha})`;
        ctx.fill();
      });
    }
  </script>
</body>
</html>
